{% extends "demo/frame.html" %} 
{% load static %}
{% block content %} 
  <div class="book-list-background">
  	<div class="bar-list">
  		<div class="search-frame">
  			<input class="search" type="text" name="" placeholder="tìm kiếm..">
  			<button class="btn-search"><i class="fas fa-search"></i></button>
  		</div>
  		<button class="add-book">
  			<i class="fas fa-plus"></i>
  			Add new product
  		</button>
  	</div>
  	<div class="list">
  		<table>
  			<thead>
  				<tr> 
					{% if listField %}
						{% for field in listField %}
							<th>{{ field }}</th>
					    {% endfor %}
					{% endif %}
              <th></th>
	  			</tr>
  			</thead>
  			<tbody>
				{% if listObject %}
				{% for object in listObject %}
					<tr>
						{% for prop in object.properties %}
              {% if "jpg" in prop or "png" in prop %}
							   <td>
                    <img src="{% static prop %}" style="width: 100px;height: 100px">
                  </td>
              {% else %}
                 <td>{{ prop }}</td>
              {% endif %}
						{% endfor %}
            <td>
              <button class="btn-grid edit" idRecord="{{object.properties.0}}" model="{{modelName}}">Edit</button>
              <a href="../delete/{{modelName}}/{{object.properties.0}}">
                <button class="btn-grid delete">Delete</button>
              </a>
            </td>
					</tr>
				{% endfor %}
  			{% endif %}
  			</tbody>
  		</table>
  	</div>
  </div>
{% endblock %} 


{% block popup %} 
  <div class="popup-list">
    <h2>Add Book</h2>
	  <form model="{{modelName}}" action="add/{{modelName}}" method="Post" enctype="multipart/form-data" >
      {% csrf_token %}
      {% comment %} <div class="line-input">
        <span>Name: </span> <input type="text" name="name">
      </div>
      <div class="line-input">
        <span>Description: </span> <textarea name="description"></textarea>
      </div>
      <div class="line-input">
        <span>Price: </span> <input type="number" step="0.01" name="price">
      </div>
      <div class="line-input">
        <span>Image: </span> <input type="file" name="file">
      </div> {% endcomment %}
      {% comment %} 
        BigAutoField
        CharField
        TextField
        FloatField
        CharField
        FileField 
      {% endcomment %}
      {% for fieldType in listFieldType %}
        {% if fieldType.type == 'FloatField' %}
          <div class="line-input">
            <span>{{ fieldType.name }}: </span> <input type="number" step="0.01" name="{{ fieldType.name }}">
          </div>
        {% elif fieldType.type == 'CharField' or fieldType.type == 'TextField'  %}
          <div class="line-input">
            <span>{{ fieldType.name }}: </span> <textarea name="{{ fieldType.name }}"></textarea>
          </div>
        {% elif fieldType.type == 'FileField' %}
          <div class="line-input">
            <span>{{ fieldType.name }}: </span> <input type="file" name="file">
          </div>
        {% endif %}
      {% endfor%}
      <div class="btn-bar">
        <button type="button" class="cancel">Cancel</button>
        <button type="button" onclick="validate()" class="add">Add</button>
		    <button type="button" onclick="validate()" class="update">Update</button>
      </div>
    </form>
  </div>
{% endblock %} 